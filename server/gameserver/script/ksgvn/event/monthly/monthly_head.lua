Import("\\script\\ksgvn\\lib.lua");

_g_monthlyEvent_BaseCfg = {
    [1] = {
        szName = "Vui TÕt §oµn Viªn",
        tbItems = {
            { "L¸ Dong", { 2, 200, 55 } },
            { "G¹o nÕp", { 2, 200, 56 } },
            { "§Ëu Xanh ThÞt Heo", { 2, 200, 57 } },
            { "B¸nh TÐt", { 2, 200, 58 } },
            { "B¸nh Ch­ng", { 2, 200, 59 } },
            { "B¸nh Ch­ng ThËp CÈm", { 2, 200, 60 } },
        }
    },
    [2] = {
        szName = "Phóc Léc §Çu Xu©n",
        tbItems = {
            { "Tr¸i c©y", { 2, 200, 74 } },
            { "Bót Nghiªn GiÊy Mùc", { 2, 200, 75 } },
            { "Hång bao", { 2, 200, 76 } },
            { "M©m Ngò Qu¶", { 2, 200, 77 } },
            { "C©u §èi §á", { 2, 200, 78 } },
            { "L× X× §¹i C¸t", { 2, 200, 79 } },
        }
    },
    [3] = {
        szName = "Quèc S¾c Thiªn H­¬ng",
        tbItems = {
            { "Hæ Ph¸ch", { 2, 200, 80 } },
            { "Tói X¹ H­¬ng", { 2, 200, 81 } },
            { "Phông HuyÕt H­¬ng", { 2, 200, 82 } },
            { "N­íc Hoa Kh«", { 2, 200, 83 } },
            { "N­íc Hoa Tinh ChÊt", { 2, 200, 84 } },
            { "Quèc S¾c Thiªn H­¬ng", { 2, 200, 85 } },
        }
    },
    [4] = {
        szName = "§¹i LÔ Ph¸o Hoa",
        tbItems = {
            { "Ngßi Ph¸o", { 2, 200, 1 } },
            { "èng Phãng", { 2, 200, 2 } },
            { "Thuèc Næ", { 2, 200, 3 } },
            { "Ph¸o Hoa Huy Hoµng", { 2, 200, 4 } },
            { "Ph¸o Hoa Rùc Rì", { 2, 200, 5 } },
            { "Ph¸o Hoa §¹i LÔ", { 2, 200, 6 } },
        }
    },
    [5] = {
        szName = "Gi¶i NhiÖt Ngµy HÌ",
        tbItems = {
            { "C¸c lo¹i ®Ëu", { 2, 200, 7 } },
            { "§­êng PhÌn", { 2, 200, 8 } },
            { "H¹t Sen", { 2, 200, 9 } },
            { "ChÌ ba mµu", { 2, 200, 10 } },
            { "ChÌ ThËp CÈm", { 2, 200, 11 } },
            { "ChÌ Sen", { 2, 200, 12 } },
        }
    },
    [6] = {
        szName = "Trë VÒ Tuæi Th¬",
        tbItems = {
            { "DiÒu GiÊy", { 2, 200, 13 } },
            { "Con Quay", { 2, 200, 14 } },
            { "Robot", { 2, 200, 15 } },
            { "Hép §å Ch¬i Nhá", { 2, 200, 16 } },
            { "Hép §å Ch¬i Lín", { 2, 200, 17 } },
            { "Thïng §å Ch¬i", { 2, 200, 18 } },
        }
    },
    [7] = {
        szName = "Tuæi Häc Trß",
        tbItems = {
            { "Bót Mùc", { 2, 200, 19 } },
            { "TËp Vë", { 2, 200, 20 } },
            { "Hoa Phông Hoµng", { 2, 200, 21 } },
            { "Kû YÕu", { 2, 200, 22 } },
            { "L­u Bót", { 2, 200, 23 } },
            { "Sæ Tay Kû NiÖm", { 2, 200, 24 } },
        }
    },
    [8] = {
        szName = "ThÊt TÞch CÇu Duyªn",
        tbItems = {
            { "N­íc M¾t Chøc N÷", { 2, 200, 25 } },
            { "§ãa Hoa Ng­u Lang", { 2, 200, 26 } },
            { "CÇu ¤ Th­íc", { 2, 200, 27 } },
            { "Hép Quµ Ng­u Lang", { 2, 200, 28 } },
            { "Hép Quµ Chøc N÷", { 2, 200, 29 } },
            { "Hép Quµ Uyªn ¦¬ng", { 2, 200, 30 } },
        }
    },
    [9] = {
        szName = "Vui Héi §ªm Tr¨ng",
        tbItems = {
            { "Bét m×", { 2, 200, 31 } },
            { "Nh©n B¸nh", { 2, 200, 32 } },
            { "Nh©n B¸nh ThËp CÈm", { 2, 200, 33 } },
            { "B¸nh trung thu", { 2, 200, 34 } },
            { "B¸nh ®Æc biÖt", { 2, 200, 35 } },
            { "B¸nh thËp cÈm", { 2, 200, 36 } },
        }
    },
    [10] = {
        szName = "Quèc S¾c Thiªn H­¬ng",
        tbItems = {
            { "X¹ h­¬ng", { 2, 200, 37 } },
            { "Tói Th¬m", { 2, 200, 38 } },
            { "Tói Th¬m §Æc BiÖt", { 2, 200, 39 } },
            { "N­íc hoa th­êng ", { 2, 200, 40 } },
            { "N­íc Hoa Kh«", { 2, 200, 41 } },
            { "N­íc Hoa Nång Nµn", { 2, 200, 42 } },
        }
    },
    [11] = {
        szName = "T«n S­ Träng §¹o",
        tbItems = {
            { "Tói Quµ", { 2, 200, 43 } },
            { "GiÊy B¹c", { 2, 200, 44 } },
            { "ThiÖp T«n S­", { 2, 200, 45 } },
            { "Hép Quµ B¹c", { 2, 200, 46 } },
            { "Hép Quµ B¹ch Kim", { 2, 200, 47 } },
            { "Hép Quµ T«n s­", { 2, 200, 48 } },
        }
    },
    [12] = {
        szName = "Gi¸ng Sinh An Lµnh",
        tbItems = {
            { "C©y th«ng gi¸o héi", { 2, 200, 49 } },
            { "VËt Trang TrÝ", { 2, 200, 50 } },
            { "Ng«i Sao Gi¸ng Sinh", { 2, 200, 51 } },
            { "C©y Th«ng An Lµnh", { 2, 200, 52 } },
            { "C©y Th«ng Êm ¸p", { 2, 200, 53 } },
            { "C©y Th«ng Gi¸ng Sinh", { 2, 200, 54 } },
        }
    },
}

MONTHLY_EVENT_SWITCH = 1; --LongDaiKa: ®ãng tÝnh n¨ng quµ h»ng th¸ng

MONTHLY_EVENT_MAX_USE = 2000; -- Sè l­îng cã thÓ ¨n ®­îc

MONTHLY_EVENT_ITEM_TYPE_NORMAL = 1
MONTHLY_EVENT_ITEM_TYPE_SPECIAL = 2

MONTHLY_EVENT_REQUIRE_USE_NUM = 2000; -- Sè l­îng yªu cÇu ¨n event 1,2 míi cã thÓ ¨n ®c event 3
MONTHLY_EVENT_REQUIRE_LEVEL = 80;

MONTHLY_EVENT_GIFT_REQUIRE_NUM1 = 2000; -- Sè l­îng event 1 yªu cÇu khi nhËn th­ëng cuèi
MONTHLY_EVENT_GIFT_REQUIRE_NUM2 = 2000; -- Sè l­îng event 2 yªu cÇu khi nhËn th­ëng cuèi

local nMonth = tonumber(date("%m"))
local nLastMonth = nMonth - 1
if nLastMonth == 0 then
    nLastMonth = 12
end

-- do th¸ng ®Çu tiªn më event kÒ cuèi nªn thay ®æi biÕn thÊp h¬n
if tonumber(date("%Y%m")) == 202301 then
    MONTHLY_EVENT_MAX_USE = 1000;
    MONTHLY_EVENT_REQUIRE_USE_NUM = 1000;
    MONTHLY_EVENT_GIFT_REQUIRE_NUM1 = 1000;
    MONTHLY_EVENT_GIFT_REQUIRE_NUM2 = 1000;
end

_g_monthlyEventItemList = _g_monthlyEvent_BaseCfg[nMonth].tbItems
_g_monthlyEventItemList_Old = _g_monthlyEvent_BaseCfg[nLastMonth].tbItems
g_monthlyEvent_Name = _g_monthlyEvent_BaseCfg[nMonth].szName

MONTHLY_EVENT_MATERIAL1 = _g_monthlyEventItemList[1][2]
MONTHLY_EVENT_MATERIAL2 = _g_monthlyEventItemList[2][2]
MONTHLY_EVENT_MATERIAL3 = _g_monthlyEventItemList[3][2]

MONTHLY_EVENT_MATERIAL1_OLD = _g_monthlyEventItemList_Old[1][2]
MONTHLY_EVENT_MATERIAL2_OLD = _g_monthlyEventItemList_Old[2][2]
MONTHLY_EVENT_MATERIAL3_OLD = _g_monthlyEventItemList_Old[3][2]

MONTHLY_EVENT_MATERIAL_SPECIAL = { 2, 1, 30603 } -- Tiªu Dao Ngäc

MONTHLY_EVENT_AWARD1 = _g_monthlyEventItemList[4][2]
MONTHLY_EVENT_AWARD2 = _g_monthlyEventItemList[5][2]
MONTHLY_EVENT_AWARD3 = _g_monthlyEventItemList[6][2]

MONTHLY_EVENT_AWARD1_OLD = _g_monthlyEventItemList_Old[4][2]
MONTHLY_EVENT_AWARD2_OLD = _g_monthlyEventItemList_Old[5][2]
MONTHLY_EVENT_AWARD3_OLD = _g_monthlyEventItemList_Old[6][2]

_g_monthlyEvent_ExchangeCfg1 = {
    [1] = {
        nNum = 1,
        tbCondition = {
            tbItems = {
                { tbProp = MONTHLY_EVENT_MATERIAL1, nCount = 10 },
                { tbProp = MONTHLY_EVENT_MATERIAL2, nCount = 10 },
                { tbProp = MONTHLY_EVENT_MATERIAL_SPECIAL, nCount = 1 },
            }
        },
    },
    [2] = {
        nNum = 10,
        tbCondition = {
            tbItems = {
                { tbProp = MONTHLY_EVENT_MATERIAL1, nCount = 100 },
                { tbProp = MONTHLY_EVENT_MATERIAL2, nCount = 100 },
                { tbProp = MONTHLY_EVENT_MATERIAL_SPECIAL, nCount = 10 },
            }
        }
    },
    [3] = {
        nNum = 100,
        tbCondition = {
            tbItems = {
                { tbProp = MONTHLY_EVENT_MATERIAL1, nCount = 1000 },
                { tbProp = MONTHLY_EVENT_MATERIAL2, nCount = 1000 },
                { tbProp = MONTHLY_EVENT_MATERIAL_SPECIAL, nCount = 100 },
            }
        }
    },
}

_g_monthlyEvent_ExchangeCfg2 = {
    [1] = {
        nNum = 1,
        tbCondition = {
            tbItems = {
                { tbProp = MONTHLY_EVENT_AWARD1, nCount = 1 },
                { tbProp = MONTHLY_EVENT_AWARD2, nCount = 1 },
                { tbProp = MONTHLY_EVENT_MATERIAL3, nCount = 10 },
            }
        }
    },
    [2] = {
        nNum = 10,
        tbCondition = {
            tbItems = {
                { tbProp = MONTHLY_EVENT_AWARD1, nCount = 10 },
                { tbProp = MONTHLY_EVENT_AWARD2, nCount = 10 },
                { tbProp = MONTHLY_EVENT_MATERIAL3, nCount = 100 },
            }
        }
    },
    [3] = {
        nNum = 100,
        tbCondition = {
            tbItems = {
                { tbProp = MONTHLY_EVENT_AWARD1, nCount = 100 },
                { tbProp = MONTHLY_EVENT_AWARD2, nCount = 100 },
                { tbProp = MONTHLY_EVENT_MATERIAL3, nCount = 1000 },
            }
        }
    },
}

MONTHLY_EVENT_AWARD_EXP1 = 10e6
MONTHLY_EVENT_AWARD_EXP2 = 20e6

local szRareMsg = "Chóc mõng %s tõ sù kiÖn " .. g_monthlyEvent_Name .. " nhËn ®­îc %d %s"

_g_monthlyEvent_AwardType1 = {
    --{ nFunc = "KsgAward:SuperFactionBook()", nRate = 0.1 },
    --{ nExp = 5.9e6, nRate = 10 },
    { nExp = 6.8e6, nRate = 8 },
    { nExp = 7.9e6, nRate = 6 },
    { nExp = 8.6e6, nRate = 5 },
    { nExp = 9.9e6, nRate = 4 },
    { nExp = 12.0e6, nRate = 3 },
    --{ nRepute = 50, nRate = 2 },
    --{ nFactionPoint = 50, nRate = 2.5 },
    --{ nChanKhi = 100, nRate = 1 },
    --{ tbProp = { 2, 1, 30535 }, nRate = 2, nStatus = 1 }, -- ThiÕt Tinh Lv3
    --
    --{ tbProp = { 2, 102, 215 }, nRate = 28.5, nStatus = 1, nStack = 10 }, -- Bét Tr©n Ch©u
    --
    --{ tbProp = { 2, 0, 141 }, nRate = 2, nStatus = 1 }, -- tiªu kiÕp t¸n
    --{ tbProp = { 2, 0, 552 }, nRate = 3, nStatus = 1 }, -- tiÓu nh©n s©m
    --{ tbProp = { 2, 1, 343 }, nRate = 3, nStatus = 1 }, -- thÇn n«ng ®¬n
    --{ tbProp = { 2, 1, 9999 }, nRate = 3, nStatus = 1 }, -- qu©n c«ng ch­¬ng
    --{ tbProp = { 2, 1, 9998 }, nRate = 2, nStatus = 1 }, -- qu©n c«ng ®¹i
    --{ tbProp = { 2, 1, 9977 }, nRate = 1, nStatus = 1 }, -- qu©n c«ng huy hoµng
    --{ tbProp = { 2, 1, 30533 }, nRate = 6, nStatus = 1 }, -- ThiÕt Tinh Lv1
    --{ tbProp = { 2, 1, 30534 }, nRate = 3, nStatus = 1 }, -- ThiÕt Tinh Lv2
    --{ nPopur2 = 50, nRate = 2, }, -- ®iÓm lÞch luyÖn
    --{ tbProp = { 2, 1, 30913 }, nRate = 1.8, nStatus = 1 }, --§ång TÕ Chi NguyÖn
    --{ tbProp = { 2, 1, 1068 }, nRate = 0.5, nStatus = 1, nExpiredTime = 7 * 24 * 3600, nQuality = szRareMsg }, -- thiªn th¹ch linh th¹ch
    --{ tbProp = { 2, 1, 1067 }, nRate = 0.5, nStatus = 1, nExpiredTime = 7 * 24 * 3600, nQuality = szRareMsg }, -- tiÓu ®Þnh hån
    --{ tbProp = { 2, 1, 31410 }, nRate = 0.1, nStatus = 1, nQuality = szRareMsg }, -- Tói kü n¨ng thó c­ng cÊp 6


    -- Event tÕt 2023 Quý M·o
    { tbProp = { 2, 1, 30526 }, nRate = 7, nStack = 1, nStatus = 1 }, -- TÈy T©m Th¹ch Lv6
    --{ tbProp = { 2, 1, 30526 }, nRate = 10, nStack = 2, nStatus = 1 }, -- TÈy T©m Th¹ch Lv6
    --{ tbProp = { 2, 1, 30526 }, nRate = 5, nStack = 5, nStatus = 1 }, -- TÈy T©m Th¹ch Lv6

    { tbProp = { 2, 1, 30532 }, nRate = 7, nStack = 1, nStatus = 1 }, -- LuyÖn L« ThiÕt Lv6
    --{ tbProp = { 2, 1, 30532 }, nRate = 10, nStack = 2, nStatus = 1 }, -- LuyÖn L« ThiÕt Lv6
    --{ tbProp = { 2, 1, 30532 }, nRate = 5, nStack = 5, nStatus = 1 }, -- LuyÖn L« ThiÕt Lv6

    { tbProp = { 2, 1, 31402 }, nRate = 1, nStack = 2, nStatus = 1 }, -- TÈy T©m Th¹ch Lv7
    { tbProp = { 2, 1, 31402 }, nRate = 0.5, nStack = 5, nStatus = 1 }, -- TÈy T©m Th¹ch Lv7
    
    { tbProp = { 2, 1, 31401 }, nRate = 1, nStack = 2 }, -- LuyÖn L« ThiÕt Lv7
    { tbProp = { 2, 1, 31401 }, nRate = 0.5, nStack = 5 }, -- LuyÖn L« ThiÕt Lv7

    { tbProp = { 2, 102, 225 }, nRate = 0.1, nStatus = 1 }, -- Th­¬ng H¶i Ch©u CÊp 7 (Ch­a gi¸m ®Þnh)
    { tbProp = { 2, 1, 40048 }, nRate = 5, nStatus = 1 }, -- M¶nh BÝ §iÓn 27
    { tbProp = { 2, 1, 31096 }, nRate = 5, nStatus = 1 }, -- L­u Kim
    { tbProp = { 2, 1, 1009 }, nRate = 5.9, nStatus = 1 }, -- Thiªn Th¹ch Tinh Th¹ch
    { tbProp = { 2, 1, 1124 }, nRate = 1, nStatus = 1 }, -- b¸nh Ýt ch©n gµ
    { tbProp = { 2, 1, 1125 }, nRate = 1, nStatus = 1 }, -- b¸nh Ýt B¸c B¶o
    { tbProp = { 2, 1, 1007 }, nRate = 1, nStatus = 1 }, -- §¹i B¹ch C©u hoµn
    { tbProp = { 2, 1, 1065 }, nRate = 1, nStatus = 1 }, -- C­êng Lôc ThÇn hoµn
    { tbProp = { 2, 1, 1098 }, nRate = 1, nStatus = 1 }, -- C­êng Tam Thanh hoµn
    { nRepute = 50, nRate = 1 },
    { nFactionPoint = 50, nRate = 1 },
    { tbProp = { 2, 0, 554 }, nRate = 34, nStatus = 1 }, -- Tu Ch©n YÕu QuyÕt
}

_g_monthlyEvent_AwardType2 = {
    { nExp = 6e6, nRate = 5 },
    { nExp = 12e6, nRate = 5 },
    { nExp = 18e6, nRate = 2 },
    { nExp = 24e6, nRate = 2 },
    { nExp = 28e6, nRate = 2 },
    --{ nExp = 34e6, nRate = 3 },
    --{ nExp = 50000, nRate = 3 },
    --{ nPhongHoa = 20, nRate = 1 },
    --
    --{ tbProp = { 2, 102, 215 }, nRate = 8, nStatus = 1, nStack = 10 }, -- Bét Tr©n Ch©u
    --
    --{ tbProp = { 2, 1, 30912 }, nRate = 1, nStatus = 1, nStack = 50 }, -- HiÖp NghÜa Chi Chøng
    --{ tbProp = { 1, 0, 30009 }, nRate = 3, nStatus = 1 }, -- Linh Chi Tôc MÖnh Hoµn
    --{ tbProp = { 1, 0, 30010 }, nRate = 3, nStatus = 1 }, -- Dao Tr× §¹i Hoµn §¬n
    --{ tbProp = { 1, 0, 30011 }, nRate = 3, nStatus = 1 }, -- TuyÕt S©m Ph¶n KhÝ Hoµn
    --{ tbProp = { 2, 1, 31320 }, nRate = 2, nStatus = 1 }, -- VÐ §æi Trang Søc Ngo¹i Trang
    --{ tbProp = { 1, 0, 266 }, nRate = 1, nStatus = 1 }, -- thÊt hoa tô linh t¸n
    --{ tbProp = { 1, 0, 270 }, nRate = 1, nStatus = 1 }, -- thÊt hoa tô linh t¸n
    --{ tbProp = { 1, 0, 273 }, nRate = 1, nStatus = 1 }, -- thÊt hoa tô linh t¸n
    --{ tbProp = { 1, 0, 275 }, nRate = 1, nStatus = 1 }, -- thÊt hoa tô linh t¸n
    --{ tbProp = { 2, 1, 1009 }, nRate = 1, nStatus = 1 }, -- thiªn th¹ch tinh th¹ch
    --{ tbProp = { 2, 0, 553 }, nRate = 3, nStatus = 1 }, -- §¹i nh©n s©m
    --{ tbProp = { 2, 1, 30341 }, nRate = 1, nStatus = 1 }, -- tµng r­¬ng
    --{ tbProp = { 2, 0, 554 }, nRate = 4.5, nStatus = 1 }, -- tu ch©n yÕu quyÕt
    --{ tbProp = { 2, 1, 30535 }, nRate = 3, nStatus = 1 }, -- ThiÕt Tinh Lv3
    --{ tbProp = { 2, 1, 504 }, nRate = 0.5, nStatus = 1 }, -- n÷ oa tinh th¹ch
    --{ tbProp = { 2, 1, 30728 }, nRate = 0.3, nStatus = 1 }, -- Tróng thó cao
    --{ tbProp = { 2, 1, 9998 }, nRate = 4, nStatus = 1 }, -- qu©n c«ng ®¹i
    --{ tbProp = { 2, 1, 9977 }, nRate = 2, nStatus = 1 }, -- qu©n c«ng huy hoµng
    --{ tbProp = { 2, 1, 1125 }, nRate = 4, nStatus = 1 }, -- b¸nh Ýt B¸c B¶o
    --{ tbProp = { 2, 1, 1124 }, nRate = 4, nStatus = 1 }, -- b¸nh Ýt ch©n gµ
    --{ tbProp = { 1, 1, 15 }, nRate = 5, nStatus = 1, nStack = 5 }, --B¸nh Bét vµng
    --{ tbProp = { 1, 1, 17 }, nRate = 5, nStatus = 1, nStack = 5 }, -- Minh nguyÖt d¹
    --{ tbProp = { 1, 1, 19 }, nRate = 4.4, nStatus = 1, nStack = 5 }, -- T©y b¾c väng
    --{ tbProp = { 2, 1, 1068 }, nRate = 0.5, nStatus = 1, nExpiredTime = 7 * 24 * 3600, nQuality = szRareMsg }, -- thiªn th¹ch linh th¹ch
    --{ tbProp = { 2, 1, 1067 }, nRate = 0.5, nStatus = 1, nExpiredTime = 7 * 24 * 3600, nQuality = szRareMsg }, -- tiÓu ®Þnh hån
    --{ tbProp = { 2, 1, 40016 }, nRate = 0.2, nStatus = 1, nQuality = szRareMsg }, -- M¶nh Chu T­íc
    --{ tbProp = { 2, 1, 30370 }, nRate = 0.5, nStatus = 1, nQuality = szRareMsg }, -- Thiªn M«n Kim LÖnh
    --{ tbProp = { 2, 95, 204 }, nRate = 0.5, nStatus = 1, nQuality = szRareMsg }, -- Thiªn Cang LÖnh
    --{ tbProp = { 2, 1, 31410 }, nRate = 0.05, nStatus = 1, nQuality = szRareMsg }, -- Tói kü n¨ng thó c­ng cÊp 6
    --{ tbProp = { 2, 1, 31599 }, nRate = 0.05, nStatus = 1, nQuality = szRareMsg }, -- R­¬ng Phi KiÕm-Phï Quang KiÕm


    -- Event tÕt 2023 Quý M·o
    { tbProp = { 1, 0, 266 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (lùc c¨n)
    { tbProp = { 1, 0, 267 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (lùc th©n)
    { tbProp = { 1, 0, 268 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (lùc ®æng)
    { tbProp = { 1, 0, 269 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (lùc néi)
    { tbProp = { 1, 0, 270 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (néi c¨n)
    { tbProp = { 1, 0, 271 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (néi th©n)
    { tbProp = { 1, 0, 272 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (néi ®æng)
    { tbProp = { 1, 0, 273 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (th©n c¨n)
    { tbProp = { 1, 0, 274 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (th©n ®æng)
    { tbProp = { 1, 0, 275 }, nRate = 2, nStatus = 1 }, -- ThÊt Hoa Tô Nguyªn T¸n (®æng c¨n)

    --{ nFunc = format("WItem:AddCixiu_Cap(random(141, 154), %d)", 1), nRate = 3 }, -- UÈn linh mò lv8
    --{ nFunc = format("WItem:AddCixiu_Cloth(random(145, 161), %d)", 1), nRate = 3 }, -- UÈn linh ¸o lv8
    --{ nFunc = format("WItem:AddCixiu_Shoe(random(141, 156), %d)", 1), nRate = 3 }, -- UÈn linh quÇn lv8

    { tbProp = { 2, 1, 31233 }, nRate = 1, nStack = 10, nStatus = 1 }, -- PhiÕu §æi Ngo¹i Trang
    { tbProp = { 2, 1, 31505 }, nRate = 2, nStatus = 1 }, -- Tói §¸ Quý CÊp 7
    { tbProp = { 2, 1, 40037 }, nRate = 19.5, nStatus = 1 }, -- Tói Kü N¨ng B§H Lv6

    { tbProp = { 2, 1, 31249 }, nRate = 2, nStatus = 1 }, -- §æi Linh Th¹ch-Cao 1
    { tbProp = { 2, 1, 31250 }, nRate = 2, nStatus = 1 }, -- §æi Linh Th¹ch-Cao 2
    { tbProp = { 2, 1, 31251 }, nRate = 2, nStatus = 1 }, -- §æi Linh Th¹ch-Cao 3
    { tbProp = { 2, 1, 31252 }, nRate = 2, nStatus = 1 }, -- §æi Linh Th¹ch-Cao 4
    { tbProp = { 2, 1, 31253 }, nRate = 2, nStatus = 1 }, -- §æi Linh Th¹ch-Cao 5
    { tbProp = { 2, 1, 31254 }, nRate = 2, nStatus = 1 }, -- §æi Linh Th¹ch-Cao 6

    { tbProp = { 2, 1, 31391 }, nRate = 2, nStack = 1 }, -- X· Qu©n Táa Linh Th¹ch 1
    { tbProp = { 2, 1, 31392 }, nRate = 2, nStack = 1 }, -- X· Qu©n Táa Linh Th¹ch 2
    { tbProp = { 2, 1, 31393 }, nRate = 2, nStack = 1 }, -- X· Qu©n Táa Linh Th¹ch 3
    { tbProp = { 2, 1, 31394 }, nRate = 2, nStack = 1 }, -- X· Qu©n Táa Linh Th¹ch 4
    { tbProp = { 2, 1, 31395 }, nRate = 2, nStack = 1 }, -- X· Qu©n Táa Linh Th¹ch 5
    { tbProp = { 2, 1, 31396 }, nRate = 2, nStack = 1 }, -- X· Qu©n Táa Linh Th¹ch 6

    { tbProp = { 2, 102, 225 }, nRate = 0.5, nStatus = 1 }, -- Th­¬ng H¶i Ch©u CÊp 7 (Ch­a gi¸m ®Þnh)

    --{ tbProp = { 2, 150, 105 }, nRate = 2, nStatus = 1 }, -- Nguyªn Thñy B¹o Né Lv2
    --{ tbProp = { 2, 150, 106 }, nRate = 2, nStatus = 1 }, -- ThiÕt Bè Sam Lv2

    { tbProp = { 2, 1, 1008 }, nRate = 1, nStatus = 1 }, -- B¹ch C©u Tiªn ®¬n
    { tbProp = { 2, 1, 1066 }, nRate = 1, nStatus = 1 }, -- Lôc ThÇn Tiªn ®¬n
    { tbProp = { 2, 1, 1099 }, nRate = 1, nStatus = 1 }, -- Tam Thanh Tiªn ®¬n

    { tbProp = { 2, 1, 30424 }, nRate = 5, nStatus = 1 }, -- C­êng hãa quyÓn 12
    { tbProp = { 2, 1, 30425 }, nRate = 4, nStatus = 1 }, -- C­êng hãa quyÓn 13
    { tbProp = { 2, 1, 30426 }, nRate = 3, nStatus = 1 }, -- C­êng hãa quyÓn 14
    { tbProp = { 2, 1, 30427 }, nRate = 2, nStatus = 1 }, -- C­êng hãa quyÓn 15

    { tbProp = { 2, 1, 40049 }, nRate = 1, nStatus = 1 }, -- M¶nh BÝ §iÓn 30
}

szRareMsg = "Chóc mõng %s ®¹t ®Õn sè lÇn dïng " .. _g_monthlyEventItemList[6][1] .. " nhËn ®­îc %d %s"

_g_monthlyEvent_AwardAccumulate = {
    --{ nRequireNum = 10, szName = "200 Bét Tr©n Ch©u", tbAward = { tbProp = { 2, 102, 215 }, nStack = 200, nStatus = 1 }, },
    --{ nRequireNum = 50, szName = "500 Bét Tr©n Ch©u", tbAward = { tbProp = { 2, 102, 215 }, nStack = 500, nStatus = 1 }, },
    --{ nRequireNum = 100, szName = "1 Kinh NghiÖm §¬n-Cao", tbAward = { tbProp = { 2, 1, 50252 }, nStatus = 1, nStack = 1 }, },
    --{ nRequireNum = 200, szName = "2000 ®iÓm phong hoa", tbAward = { nPhongHoa = 2000 }, },
    --{ nRequireNum = 300, szName = "2 Qu©n C«ng Vinh Dù", tbAward = { tbProp = { 2, 1, 30642 }, nStack = 2, nStatus = 1 }, },
    --{ nRequireNum = 400, szName = "20 M¶nh MËt TÞch Cao CÊp", tbAward = { tbProp = { 2, 1, 40026 }, nStack = 20, nStatus = 1, }, },
    --{ nRequireNum = 500, szName = "1 §Þnh Hån Thiªn Th¹ch ThÇn Th¹ch", tbAward = { tbProp = { 2, 1, 1067 }, nStack = 1, nStatus = 1, nExpiredTime = 7 * 24 * 3600 }, },
    --{ nRequireNum = 600, szName = "2 Qu©n C«ng Vinh Dù", tbAward = { tbProp = { 2, 1, 30642 }, nStack = 2, nStatus = 1 }, },
    --{ nRequireNum = 800, szName = "1 §¹i §Þnh Hån", tbAward = { tbProp = { 2, 1, 1113 }, nStack = 1, nStatus = 1, nExpiredTime = 14 * 24 * 3600 }, },
    --{ nRequireNum = 1200, szName = "2 M¶nh Chu T­íc", tbAward = { tbProp = { 2, 1, 40016 }, nStack = 2, nStatus = 1 }, },
    --{ nRequireNum = 1600, szName = "3 ThÇn Tµi B¶o R­¬ng", tbAward = { tbProp = { 2, 1, 30344 }, nStack = 3, nStatus = 1 }, },
    --{ nRequireNum = 1800, szName = "2000 HiÖp NghÜa Chi Chøng", tbAward = { tbProp = { 2, 1, 30912 }, nStack = 2000, nStatus = 1 }, },
    --{ nRequireNum = 2000, szName = "1 Thiªn M«n Kim LÖnh", tbAward = { tbProp = { 2, 1, 30370 }, nStack = 1, nStatus = 1, nQuality = szRareMsg }, },
    --{ nRequireNum = 2200, szName = "1 Thiªn Cang LÖnh", tbAward = { tbProp = { 2, 95, 204 }, nStack = 1, nStatus = 1, nQuality = szRareMsg }, },
    --{ nRequireNum = 2500, szName = "1 Tói Ngo¹i Trang Thñ TuÕ", tbAward = { tbProp = { 2, 1, 31379 }, nStack = 1, nStatus = 1, nQuality = szRareMsg }, },
    --{ nRequireNum = 3000, szName = "5 Ch©n Vâ Hån Th¹ch", tbAward = { tbProp = { 2, 114, 143 }, nStack = 5, nStatus = 1, nQuality = szRareMsg }, },
    --{ nRequireNum = 4000, szName = "5 M¶nh Chu T­íc", tbAward = { tbProp = { 2, 1, 40016 }, nStack = 5, nStatus = 1, nQuality = szRareMsg }, },
    --{ nRequireNum = 5000, szName = "1 Chiªu Yªu Kú", tbAward = { tbProp = { 2, 1, 31307 }, nStack = 1, nStatus = 1, nQuality = szRareMsg }, },


    -- Event tÕt 2023 Quý M·o
    { nRequireNum = 500, szName = "50 LÖnh Bµi Më Réng R­¬ng", tbAward = { tbProp = { 2, 1, 50257 }, nStack = 50, nStatus = 1, nQuality = szRareMsg }, },
    { nRequireNum = 1000, szName = "2 Th­¬ng H¶i Di Ch©u 7", tbAward = { tbProp = { 2, 102, 225  }, nStack = 2, nStatus = 1, nQuality = szRareMsg }, },
    { nRequireNum = 1500, szName = "1 Tói gÊm Thanh S­¬ng Trang", tbAward = { tbProp = { 2, 1, 50279 }, nStack = 1, nStatus = 3, nQuality = szRareMsg }, },
    { nRequireNum = 1800, szName = "1 LÔ bao Thanh Linh TÞnh", tbAward = { tbProp = { 2, 1, 50323 }, nStack = 1, nStatus = 3, nQuality = szRareMsg }, },
    { nRequireNum = 2000, szName = "1 Chiªu Yªu Kú", tbAward = { tbProp = { 2, 1, 31307 }, nStack = 1, nStatus = 1, nQuality = szRareMsg }, },
}

_g_monthlyEvent_AwardAccumulate1 = {
    --{ tbProp = { 2, 1, 50253 }, nStatus = 4, nStack = 10 }, -- Kinh nghiÖm ®¬n - Siªu (2 tû exp)
    --{ nRepute = 10000 },
    --{ nFactionPoint = 10000 },
    --{ nPhongHoa = 3000 },

    { tbProp = { 2, 102, 213 }, nStack = 10, nStatus = 1 }, -- Th­¬ng H¶i Ch©u CÊp 6 (Ch­a gi¸m ®Þnh)
}

_g_monthlyEvent_AwardAccumulate2 = {
    --{ tbProp = { 2, 1, 50253 }, nStatus = 4, nStack = 5 }, -- Kinh nghiÖm ®¬n - Siªu (2 tû exp)
    --{ tbProp = { 2, 1, 31244 }, nStatus = 1, nStack = 100 }, -- M¶nh c¬ quan MÆc Gia
    --{ tbProp = { 2, 102, 215 }, nStatus = 1, nStack = 2000 }, -- Bét Tr©n Ch©u

    { tbProp = { 2, 102, 213 }, nStack = 10, nStatus = 1 }, --Th­¬ng H¶i di ch©u 6
}

_g_monthlyEvent_ItemCfg = {
    [PackItemId(KsgLib:UnPack(MONTHLY_EVENT_AWARD1))] = {
        nType = MONTHLY_EVENT_ITEM_TYPE_NORMAL,
        nTaskId = TASKID_EVENT_MONTHLY_ITEM1,
        nExp = MONTHLY_EVENT_AWARD_EXP1,
        tbAward = _g_monthlyEvent_AwardType1,
    },
    [PackItemId(KsgLib:UnPack(MONTHLY_EVENT_AWARD2))] = {
        nType = MONTHLY_EVENT_ITEM_TYPE_NORMAL,
        nTaskId = TASKID_EVENT_MONTHLY_ITEM2,
        nExp = MONTHLY_EVENT_AWARD_EXP1,
        tbAward = _g_monthlyEvent_AwardType1,
    },
    [PackItemId(KsgLib:UnPack(MONTHLY_EVENT_AWARD3))] = {
        nType = MONTHLY_EVENT_ITEM_TYPE_SPECIAL,
        nTaskId = TASKID_EVENT_MONTHLY_ITEM3,
        nExp = MONTHLY_EVENT_AWARD_EXP2,
        tbAward = _g_monthlyEvent_AwardType2,
    },
}
